{"version":3,"sources":["utils/convert.ts","components/Element.tsx","resources/water.png","components/GameScreen.tsx","slices/saveSlice.tsx","utils/merge.ts","store.tsx","styles/GlobalStyle.tsx","styles/theme.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["convertUnit","value","from","to","window","innerWidth","innerHeight","ElementWrapper","styled","div","theme","color","eleBg","eleShadow","ElementName","Element","React","forwardRef","ref","elementId","isDragging","onMouseDown","screenRef","zIndex","index","useState","x","y","pos","setPos","prevZIndex","setPrevZIndex","targetRef","useRef","handleMouseMove","useCallback","ev","state","Math","min","max","movementX","current","offsetWidth","movementY","offsetHeight","useEffect","addEventListener","removeEventListener","style","left","top","node","data-index","MainScreen","bg","GameScreen","Array","length","id","nanoid","elements","setElements","undefined","draggingElement","setDragging","maxZIndex","setMaxZIndex","mousedownHandler","elementRefs","mouseleaveHandler","mouseupHandler","target","HTMLElement","dataset","parseInt","isNaN","overlapIndex","elementIndex","rect1","getBoundingClientRect","sortedRefs","sort","a","b","i","v","rect2","bottom","right","indexOf","testOverlap","ele1index","ele2index","toCreate","filter","_","map","slice","el","initialState","unlockedElements","saveSlice","createSlice","name","reducers","unlockElement","action","includes","payload","push","actions","mergeObject","source","isArray","mergeArray","constructor","l","persistedState","JSON","parse","localStorage","getItem","store","configureStore","reducer","save","saveReducer","preloadedState","saveInitialState","subscribe","throttle","setItem","stringify","getState","GlobalStyle","createGlobalStyle","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ba66d94.chunk.js","sourcesContent":["type Unit = \"px\" | \"vw\" | \"vh\";\n\nexport function convertUnit(value: number, from: Unit, to: Unit) {\n  if (from === to) return value;\n\n  switch (from) {\n    case \"vw\":\n      value *= window.innerWidth / 100;\n      break;\n    case \"vh\":\n      value *= window.innerHeight / 100;\n      break;\n  }\n  switch (to) {\n    case \"vw\":\n      return (value *= 100 / window.innerWidth);\n    case \"vh\":\n      return (value *= 100 / window.innerHeight);\n    case \"px\":\n      return value;\n  }\n}\n","import React, { useCallback, useRef, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport waterImg from \"../resources/water.png\";\nimport { convertUnit } from \"../utils/convert\";\n\nconst ElementWrapper = styled.div`\n  --elementSize: 10vmin;\n  position: absolute;\n  width: var(--elementSize);\n  height: var(--elementSize);\n  background-color: ${({ theme }) => theme.color.eleBg};\n  border-radius: 1vmin;\n  padding: 0;\n\n  background-image: url(\"${waterImg}\");\n  background-repeat: no-repeat;\n  background-size: var(--elementSize);\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n\n  box-shadow: 0 0 10px ${({ theme }) => theme.color.eleShadow};\n\n  transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1),\n    box-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n\n  :hover {\n    transform: scale(1.1);\n    cursor: pointer;\n    box-shadow: 0 0 15px ${({ theme }) => theme.color.eleShadow};\n  }\n\n  :active {\n    transform: scale(1.2);\n    box-shadow: 0 0 20px ${({ theme }) => theme.color.eleShadow};\n  }\n`;\n\nconst ElementName = styled.div`\n  position: absolute;\n  color: white;\n  bottom: -1.2em;\n\n  font-family: \"Azeret Mono\", monospace;\n  font-weight: 700;\n  font-size: 1.2em;\n  width: 100%;\n  text-align: center;\n`;\n\ninterface ElementProps {\n  elementId: number;\n  isDragging: boolean;\n  onMouseDown: React.MouseEventHandler<HTMLDivElement> | undefined;\n  screenRef: React.MutableRefObject<HTMLDivElement>;\n  zIndex?: number;\n  index: number;\n}\n\nexport const Element = React.forwardRef<HTMLDivElement, ElementProps>(\n  ({ elementId, isDragging, onMouseDown, screenRef, zIndex, index }, ref) => {\n    const [pos, setPos] = useState({ x: 0, y: 0 });\n    const [prevZIndex, setPrevZIndex] = useState(0);\n    const targetRef =\n      useRef<HTMLDivElement | null>() as React.MutableRefObject<HTMLDivElement | null>;\n\n    const handleMouseMove = useCallback(\n      (ev: MouseEvent) => {\n        setPos((state) => ({\n          x: convertUnit(\n            Math.min(\n              Math.max(convertUnit(state.x, \"vw\", \"px\") + ev.movementX, 0),\n              screenRef.current.offsetWidth -\n                (targetRef?.current?.offsetWidth ?? 0)\n            ),\n            \"px\",\n            \"vw\"\n          ),\n          y: convertUnit(\n            Math.min(\n              Math.max(convertUnit(state.y, \"vh\", \"px\") + ev.movementY, 0),\n              screenRef.current.offsetHeight -\n                (targetRef?.current?.offsetHeight ?? 0)\n            ),\n            \"px\",\n            \"vh\"\n          ),\n        }));\n      },\n      [screenRef]\n    );\n\n    useEffect(() => {\n      if (isDragging) {\n        window.addEventListener(\"mousemove\", handleMouseMove);\n      } else {\n        window.removeEventListener(\"mousemove\", handleMouseMove);\n      }\n    }, [isDragging, handleMouseMove]);\n\n    useEffect(() => {\n      if (!zIndex) return;\n      setPrevZIndex(zIndex);\n    }, [zIndex]);\n\n    return (\n      <ElementWrapper\n        style={{\n          left: pos.x + \"vw\",\n          top: pos.y + \"vh\",\n          zIndex: zIndex ?? prevZIndex,\n        }}\n        ref={(node) => {\n          targetRef.current = node;\n          if (typeof ref === \"function\") {\n            ref(node);\n          } else if (ref) {\n            (ref as React.MutableRefObject<HTMLDivElement | null>).current =\n              node;\n          }\n        }}\n        onMouseDown={onMouseDown}\n        data-index={index}>\n        <ElementName>WATER DROP</ElementName>\n      </ElementWrapper>\n    );\n  }\n);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAJBJREFUOE+lk8ERgCAMBKEHy/FBCZZqCTwsxx5wMhoJIUeYgS/s5iAkBmelq5S8x4iOwQ0GlgQEswilgAkkPJIMBWkLId/19lYKU8DVtYBUWgIFFjwlsO6uWyhTdAmWBFMwP+rxfq4mgSeQHQmWgIxIYsFdAiRoYDr0VTcFUtKBCoaCv21nnQVZVbbVnUZv3B+lKUYR3c3j4wAAAABJRU5ErkJggg==\"","import { nanoid } from \"@reduxjs/toolkit\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Element } from \"./Element\";\n\nconst MainScreen = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: ${({ theme }) => theme.color.bg};\n`;\n\ninterface IElement {\n  elementId: number;\n  id: string;\n}\n\nconst createNewElement = (elementId: number): IElement => ({\n  elementId,\n  id: nanoid(),\n});\n\nexport const GameScreen = () => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [elements, setElements] = useState<IElement[]>(\n    Array.from({ length: 20 }, () => createNewElement(0))\n  );\n  const [draggingElement, setDragging] = useState<number | undefined>(\n    undefined\n  );\n  const [maxZIndex, setMaxZIndex] = useState(0);\n  const targetRef =\n    useRef<HTMLDivElement>() as React.MutableRefObject<HTMLDivElement>;\n  const mousedownHandler = useCallback(\n    (index: number) => () => {\n      setMaxZIndex((state) => state + 1);\n      setDragging(index);\n    },\n    []\n  );\n  const elementRefs = useRef<Array<HTMLDivElement | null>>([]);\n\n  const testOverlap = (elementIndex: number): number | undefined => {\n    const rect1 = elementRefs.current[elementIndex]?.getBoundingClientRect();\n    if (!rect1) return;\n    const sortedRefs = [...elementRefs.current].sort((a, b) =>\n      a?.style?.zIndex\n        ? b?.style?.zIndex\n          ? +b.style.zIndex - +a.style.zIndex\n          : -1\n        : 1\n    );\n\n    for (let i = 1; i < elementRefs.current.length; i++) {\n      const v = sortedRefs[i];\n      if (!v) continue;\n      const rect2 = v.getBoundingClientRect();\n      if (\n        rect1.top <= rect2.bottom &&\n        rect1.bottom >= rect2.top &&\n        rect1.left <= rect2.right &&\n        rect1.right >= rect2.left\n      )\n        return elementRefs.current.indexOf(v);\n    }\n  };\n\n  useEffect(() => {\n    const merge = (ele1index: number, ele2index: number, toCreate: number) => {\n      const newElements = (elements: IElement[]) =>\n        elements\n          .filter((_, i) => i !== ele2index)\n          .map((v, i) => (i === ele1index ? { ...v, elementId: toCreate } : v));\n      setElements(newElements);\n    };\n\n    const mouseleaveHandler = () => setDragging(undefined);\n    const mouseupHandler = (ev: MouseEvent) => {\n      setDragging(undefined);\n      if (ev.target instanceof HTMLElement && ev.target.dataset.index) {\n        const index = parseInt(ev.target.dataset.index);\n        if (isNaN(index)) return;\n        const overlapIndex = testOverlap(index);\n        if (typeof overlapIndex === \"undefined\") return;\n        else merge(index, overlapIndex, 0);\n      }\n    };\n\n    const { current } = targetRef;\n    current.addEventListener(\"mouseup\", mouseupHandler);\n    current.addEventListener(\"mouseleave\", mouseleaveHandler);\n    return () => {\n      current.removeEventListener(\"mouseup\", mouseupHandler);\n      current.removeEventListener(\"mouseleave\", mouseleaveHandler);\n    };\n  }, []);\n\n  useEffect(() => {\n    elementRefs.current = elementRefs.current.slice(0, elements.length);\n  }, [elements]);\n\n  return (\n    <MainScreen ref={targetRef}>\n      {elements.map((v, i) => (\n        <Element\n          key={v.id}\n          index={i}\n          elementId={v.elementId}\n          isDragging={draggingElement === i}\n          onMouseDown={mousedownHandler(i)}\n          screenRef={targetRef}\n          ref={(el) => {\n            elementRefs.current[i] = el;\n          }}\n          zIndex={draggingElement === i ? maxZIndex + 1 : undefined}\n        />\n      ))}\n    </MainScreen>\n  );\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface ISaveState {\n  unlockedElements: number[];\n}\n\nexport const initialState = {\n  unlockedElements: [1, 2, 3, 4],\n} as ISaveState;\n\nconst saveSlice = createSlice({\n  name: \"save\",\n  initialState,\n  reducers: {\n    unlockElement(state, action: PayloadAction<number>) {\n      if (!state.unlockedElements.includes(action.payload))\n        state.unlockedElements.push(action.payload);\n    },\n  },\n});\n\nexport const { unlockElement } = saveSlice.actions;\n\nexport default saveSlice.reducer;\n","// From https://github.com/spotky1004/Bunch-of-Achievements/blob/main/src/util/SaveLoad.js\n\nexport function mergeObject(target: any, source: any) {\n  target = target ?? {};\n  for (const i in source) {\n    if (Array.isArray(source[i])) {\n      target[i] = target[i] ?? [];\n      mergeArray(target[i], source[i]);\n    } else if (typeof source[i] === \"object\") {\n      target[i] = mergeObject(target[i], source[i]);\n    } else {\n      target[i] = source[i].constructor(target[i] ?? source[i]);\n    }\n  }\n  return target;\n}\nexport function deepCopy<T>(obj: T): T {\n  return mergeObject({}, obj);\n}\n\nexport function mergeArray(target: Array<any>, source: Array<any>) {\n  for (let i = 0, l = source.length; i < l; i++) {\n    if (Array.isArray(source[i])) {\n      mergeArray(target[i], source[i]);\n    } else if (typeof source[i] === \"object\") {\n      target[i] = mergeObject(target[i], source[i]);\n    } else {\n      target[i] = source[i].constructor(target[i] ?? source[i]);\n    }\n  }\n  return target;\n}\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport saveReducer, {\n  initialState as saveInitialState,\n} from \"./slices/saveSlice\";\nimport { mergeObject } from \"./utils/merge\";\nimport _ from \"lodash\";\n\nconst persistedState = JSON.parse(\n  localStorage.getItem(\"notAMergeGame\") || \"{}\"\n);\n\nconst store = configureStore({\n  reducer: {\n    save: saveReducer,\n  },\n  preloadedState: mergeObject(persistedState, { save: saveInitialState }),\n});\n\nstore.subscribe(() => {\n  _.throttle(\n    () =>\n      localStorage.setItem(\"notAMergeGame\", JSON.stringify(store.getState())),\n    1000\n  );\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    overflow: hidden;\n  }\n  * {\n    margin: 0;\n    user-select: none;\n  }\n`;\n","export const theme = {\n  color: {\n    bg: \"#333\",\n    eleBg: \"#555\",\n    eleShadow: \"#000\",\n  },\n};\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { ThemeProvider } from \"styled-components\";\nimport { GameScreen } from \"./components/GameScreen\";\nimport store from \"./store\";\nimport { GlobalStyle } from \"./styles/GlobalStyle\";\nimport { theme } from \"./styles/theme\";\nimport \"./font/font.css\";\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <GameScreen />\n        </ThemeProvider>\n      </Provider>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}