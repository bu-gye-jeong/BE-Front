(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),i=t(7),c=t.n(i),u=t(20),a=t(2),s=t(13),d=t(21),l=t(3),f=t(4),v=t(5);function b(e,n,t){if(n===t)return e;switch(n){case"vw":e*=window.innerWidth/100;break;case"vh":e*=window.innerHeight/100}switch(t){case"vw":return e*(100/window.innerWidth);case"vh":return e*(100/window.innerHeight);case"px":return e}}var g,m,h,j=t(1),x=a.c.div(g||(g=Object(f.a)(["\n  --elementSize: 10vmin;\n  position: absolute;\n  width: var(--elementSize);\n  height: var(--elementSize);\n  background-color: ",';\n  border-radius: 1vmin;\n  padding: 0;\n\n  background-image: url("','");\n  background-repeat: no-repeat;\n  background-size: var(--elementSize);\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n\n  box-shadow: 0 0 10px ',";\n\n  transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1),\n    box-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n\n  :hover {\n    transform: scale(1.1);\n    cursor: pointer;\n    box-shadow: 0 0 15px ",";\n  }\n\n  :active {\n    transform: scale(1.2);\n    box-shadow: 0 0 20px ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.color.eleBg}),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAJBJREFUOE+lk8ERgCAMBKEHy/FBCZZqCTwsxx5wMhoJIUeYgS/s5iAkBmelq5S8x4iOwQ0GlgQEswilgAkkPJIMBWkLId/19lYKU8DVtYBUWgIFFjwlsO6uWyhTdAmWBFMwP+rxfq4mgSeQHQmWgIxIYsFdAiRoYDr0VTcFUtKBCoaCv21nnQVZVbbVnUZv3B+lKUYR3c3j4wAAAABJRU5ErkJggg==",(function(e){return e.theme.color.eleShadow}),(function(e){return e.theme.color.eleShadow}),(function(e){return e.theme.color.eleShadow}),(function(e){var n=e.isHovering,t=e.theme;return n?"transform: scale(1.1); \n      box-shadow: 0 0 15px ".concat(t.color.eleShadow,";"):null})),O=a.c.div(m||(m=Object(f.a)(['\n  position: absolute;\n  color: white;\n  bottom: -1.2em;\n\n  font-family: "Azeret Mono", monospace;\n  font-weight: 700;\n  font-size: 1.2em;\n  width: 100%;\n  text-align: center;\n']))),w=o.a.forwardRef((function(e,n){var t,o=Object(r.useState)({x:0,y:0}),i=Object(l.a)(o,2),c=i[0],u=i[1],a=Object(r.useState)(0),s=Object(l.a)(a,2),d=s[0],f=s[1],v=Object(r.useRef)(),g=Object(r.useCallback)((function(n){u((function(t){var r,o,i,c;return{x:b(Math.min(Math.max(b(t.x,"vw","px")+n.movementX,0),e.screenRef.current.offsetWidth-(null!==(r=null===v||void 0===v||null===(o=v.current)||void 0===o?void 0:o.offsetWidth)&&void 0!==r?r:0)),"px","vw"),y:b(Math.min(Math.max(b(t.y,"vh","px")+n.movementY,0),e.screenRef.current.offsetHeight-(null!==(i=null===v||void 0===v||null===(c=v.current)||void 0===c?void 0:c.offsetHeight)&&void 0!==i?i:0)),"px","vh")}}))}),[e.screenRef]);return Object(r.useEffect)((function(){e.isDragging?window.addEventListener("mousemove",g):window.removeEventListener("mousemove",g)}),[e.isDragging,g]),Object(r.useEffect)((function(){e.zIndex&&f(e.zIndex)}),[e.zIndex]),Object(j.jsx)(x,{style:{left:c.x+"vw",top:c.y+"vh",zIndex:null!==(t=e.zIndex)&&void 0!==t?t:d},ref:function(e){v.current=e,"function"===typeof n?n(e):n&&(n.current=e)},isHovering:e.isHovering,onMouseDown:e.onMouseDown,"data-index":e.index,children:Object(j.jsx)(O,{children:"WATER DROP"})})})),A=a.c.div(h||(h=Object(f.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.theme.color.bg})),p=function(){var e=Object(r.useState)(Array.from({length:20},(function(){return{elementId:0,id:Object(v.c)()}}))),n=Object(l.a)(e,2),t=n[0],o=n[1],i=Object(r.useState)(void 0),c=Object(l.a)(i,2),u=c[0],a=c[1],f=Object(r.useState)(void 0),b=Object(l.a)(f,2),g=b[0],m=b[1],h=Object(r.useState)(0),x=Object(l.a)(h,2),O=x[0],p=x[1],S=Object(r.useRef)(),E=Object(r.useCallback)((function(e){return function(){p((function(e){return e+1})),a(e)}}),[]),y=Object(r.useRef)([]),I=function(e){var n,t=null===(n=y.current[e])||void 0===n?void 0:n.getBoundingClientRect();if(t)for(var r=Object(d.a)(y.current).sort((function(e,n){var t,r;return(null===e||void 0===e||null===(t=e.style)||void 0===t?void 0:t.zIndex)?(null===n||void 0===n||null===(r=n.style)||void 0===r?void 0:r.zIndex)?+n.style.zIndex-+e.style.zIndex:-1:1})),o=1;o<y.current.length;o++){var i=r[o];if(i){var c=i.getBoundingClientRect();if(t.top<=c.bottom&&t.bottom>=c.top&&t.left<=c.right&&t.right>=c.left)return y.current.indexOf(i)}}};return Object(r.useEffect)((function(){var e=function(){return a(void 0)},n=function(e){if(a(void 0),m(void 0),e.target instanceof HTMLElement&&e.target.dataset.index){var n=parseInt(e.target.dataset.index);if(isNaN(n))return;var t=I(n);if("undefined"===typeof t)return;r=n,i=t,c=0,o((function(e){return e.filter((function(e,n){return n!==i})).map((function(e,n){return n===r?Object(s.a)(Object(s.a)({},e),{},{elementId:c}):e}))}))}var r,i,c},t=S.current;return t.addEventListener("mouseup",n),t.addEventListener("mouseleave",e),function(){t.removeEventListener("mouseup",n),t.removeEventListener("mouseleave",e)}}),[]),Object(r.useEffect)((function(){var e=function(){if("undefined"!==typeof u){var e=I(u);m(e)}},n=S.current;return n.addEventListener("mousemove",e),function(){n.removeEventListener("mousemove",e)}}),[u]),Object(r.useEffect)((function(){y.current=y.current.slice(0,t.length)}),[t]),Object(j.jsx)(A,{ref:S,children:t.map((function(e,n){return Object(j.jsx)(w,{index:n,elementId:e.elementId,isDragging:u===n,isHovering:g===n,onMouseDown:E(n),screenRef:S,ref:function(e){y.current[n]=e},zIndex:u===n?O+1:void 0},e.id)}))})},S={unlockedElements:[1,2,3,4]},E=Object(v.b)({name:"save",initialState:S,reducers:{unlockElement:function(e,n){e.unlockedElements.includes(n.payload)||e.unlockedElements.push(n.payload)}}}),y=(E.actions.unlockElement,E.reducer);function I(e,n){var t;for(var r in e=null!==(t=e)&&void 0!==t?t:{},n){var o;if(Array.isArray(n[r]))e[r]=null!==(o=e[r])&&void 0!==o?o:[],k(e[r],n[r]);else if("object"===typeof n[r])e[r]=I(e[r],n[r]);else{var i;e[r]=n[r].constructor(null!==(i=e[r])&&void 0!==i?i:n[r])}}return e}function k(e,n){for(var t=0,r=n.length;t<r;t++)if(Array.isArray(n[t]))k(e[t],n[t]);else if("object"===typeof n[t])e[t]=I(e[t],n[t]);else{var o;e[t]=n[t].constructor(null!==(o=e[t])&&void 0!==o?o:n[t])}return e}var z=t(19),R=t.n(z),B=JSON.parse(localStorage.getItem("notAMergeGame")||"{}"),M=Object(v.a)({reducer:{save:y},preloadedState:I(B,{save:S})});M.subscribe((function(){R.a.throttle((function(){return localStorage.setItem("notAMergeGame",JSON.stringify(M.getState()))}),1e3)}));var C,F=M,L=Object(a.b)(C||(C=Object(f.a)(["\n  body {\n    overflow: hidden;\n  }\n  * {\n    margin: 0;\n    user-select: none;\n  }\n"]))),H={color:{bg:"#333",eleBg:"#555",eleShadow:"#000"}};t(34);var D=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{}),Object(j.jsx)(u.a,{store:F,children:Object(j.jsx)(a.a,{theme:H,children:Object(j.jsx)(p,{})})})]})},J=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),o(e),i(e),c(e)}))};c.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root")),J()}},[[35,1,2]]]);
//# sourceMappingURL=main.bc62c8d2.chunk.js.map